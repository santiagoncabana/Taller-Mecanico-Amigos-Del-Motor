<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Turnos - Taller Mecánico</title>
    <link rel="stylesheet" href="../css/Orden_de_servicio.css">
</head>

<body>
    <div class="container">
        <header>
            <h1>Sistema de Gestión de Turnos</h1>
            <p class="app-description">Gestión automatizada de turnos para taller mecánico</p>
        </header>

        <div class="main-content">
            <!-- Sección de Búsqueda de Cliente -->
            <section class="section">
                <h2>Buscar Cliente</h2>
                <div class="form-group">
                    <label for="searchDni">Buscar por DNI:</label>
                    <div class="search-container">
                        <input type="text" id="searchDni" placeholder="Ingrese DNI del cliente" maxlength="8">
                        <button id="searchClientBtn" class="btn btn-primary">Buscar Cliente</button>
                    </div>
                </div>
                <div id="clientInfo" class="client-info" style="display: none;">
                    <h3>Datos del Cliente Encontrado</h3>
                    <div class="client-details">
                        <p><strong>Nombre:</strong> <span id="foundClientName"></span></p>
                        <p><strong>Email:</strong> <span id="foundClientEmail"></span></p>
                        <p><strong>Teléfono:</strong> <span id="foundClientPhone"></span></p>
                        <p><strong>DNI:</strong> <span id="foundClientDni"></span></p>
                    </div>
                </div>
            </section>

            <!-- Sección de Creación de Turno -->
            <section class="section">
                <h2>Crear Nuevo Turno</h2>
                <form id="turnForm" class="turn-form">
                    <div class="form-group">
                        <label for="clientDni">DNI del Cliente:</label>
                        <input type="text" id="clientDni" name="clientDni" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="clientName">Nombre del Cliente:</label>
                            <input type="text" id="clientName" name="clientName" required readonly>
                        </div>
                        <div class="form-group">
                            <label for="clientEmail">Email:</label>
                            <input type="email" id="clientEmail" name="clientEmail" required readonly>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="clientPhone">Teléfono:</label>
                            <input type="tel" id="clientPhone" name="clientPhone" required readonly>
                        </div>
                        <div class="form-group">
                            <label for="clientVehicle">Vehículo:</label>
                            <input type="text" id="clientVehicle" name="clientVehicle" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="turnDate">Fecha del Turno:</label>
                        <input type="date" id="turnDate" name="turnDate" required>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Guardar Turno</button>
                        <button type="reset" class="btn btn-warning">Limpiar</button>
                    </div>
                </form>
            </section>

            <!-- Sección de Turnos Existentes -->
            <section class="section">
                <h2>Turnos Registrados</h2>
                <div class="turns-list" id="turnsList">
                    <div class="no-data">No hay turnos registrados</div>
                </div>
            </section>

            <!-- NUEVA SECCIÓN: Orden de Servicio -->
            <!-- Sección de Orden de Servicio -->
            <section class="section">
                <h2>Crear Orden de Servicio</h2>

                <div class="form-group">
                    <label for="searchTurnForOrder">Buscar Turno por ID:</label>
                    <div class="search-container">
                        <input type="number" id="searchTurnForOrder" placeholder="Ingrese ID del turno" min="1">
                        <button id="searchTurnBtn" class="btn btn-primary">Buscar Turno</button>
                    </div>
                </div>

                <form id="orderForm">
                    <!-- Campos autocompletados desde el backend -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="orderTurnId">ID del Turno:</label>
                            <input type="text" id="orderTurnId" readonly>
                        </div>
                        <div class="form-group">
                            <label for="orderClientDni">DNI del Cliente:</label>
                            <input type="text" id="orderClientDni" readonly>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="orderClientName">Nombre del Cliente:</label>
                            <input type="text" id="orderClientName" readonly>
                        </div>
                        <div class="form-group">
                            <label for="orderClientPhone">Teléfono:</label>
                            <input type="text" id="orderClientPhone" readonly>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="orderDate">Fecha del Turno:</label>
                            <input type="text" id="orderDate" readonly>
                        </div>
                        <div class="form-group">
                            <label for="orderEmployeeId">ID del Empleado:</label>
                            <input type="text" id="orderEmployeeId" readonly>
                        </div>
                    </div>

                    <!-- Campos a completar manualmente -->
                    <div class="form-group">
                        <label for="orderWorkDescription">Descripción del Trabajo:</label>
                        <textarea id="orderWorkDescription" rows="3" required></textarea>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="orderPrice">Precio Total:</label>
                            <input type="number" id="orderPrice" min="0" step="0.01" required>
                        </div>
                        <div class="form-group">
                            <label for="orderLicensePlate">Patente:</label>
                            <input type="text" id="orderLicensePlate" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="orderModel">Modelo del Vehículo:</label>
                        <input type="text" id="orderModel" required>
                    </div>

                    <div class="form-actions">
                        <button type="submit" class="btn btn-success">Crear Orden de Servicio</button>
                        <button type="reset" class="btn btn-warning">Limpiar</button>
                    </div>
                </form>
            </section>

            <!-- Sección de Órdenes Existentes -->
            <section class="section">
                <h2>Órdenes de Servicio Registradas</h2>
                <div class="orders-list" id="ordersList">
                    <div class="no-data">No hay órdenes de servicio registradas</div>
                </div>
            </section>
        </div>
    </div>

    <div id="notification" class="notification"></div>

    <script src="../js/Orden_de_servicio.js"></script>
</body>

</html>